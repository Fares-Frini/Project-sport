<div [class.container-fluid]="!dialogRef" [class.p-3]="dialogRef">
    <h2 mat-dialog-title *ngIf="dialogRef" class="brand-font">{{ isEditMode ? 'Modifier' : 'Ajouter' }} une Catégorie
    </h2>
    <h1 class="h2" *ngIf="!dialogRef">{{ isEditMode ? 'Modifier' : 'Ajouter' }} une Catégorie</h1>

    <div class="mt-3">
        <mat-card [class.border-0]="dialogRef" [class.shadow-none]="dialogRef">
            <mat-card-content>
                <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

                <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
                    <mat-form-field class="w-100" appearance="outline">
                        <mat-label>Nom de la catégorie</mat-label>
                        <input matInput formControlName="name">
                        <mat-error *ngIf="f['name'].errors?.['required']">Le nom est requis</mat-error>
                        <mat-error *ngIf="f['name'].errors?.['minlength']">Minimum 3 caractères</mat-error>
                    </mat-form-field>

                    <div class="d-flex justify-content-end gap-2 mt-3">
                        <button type="button" mat-button (click)="onCancel()">Annuler</button>
                        <button type="submit" mat-raised-button color="primary"
                            [disabled]="loading || categoryForm.invalid">
                            {{ isEditMode ? 'Mettre à jour' : 'Sauvegarder' }}
                        </button>
                    </div>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>