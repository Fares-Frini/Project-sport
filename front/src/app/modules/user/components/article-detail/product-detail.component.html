<div [ngClass]="{'container py-5': !isModal}" *ngIf="product">
    <h2 mat-dialog-title *ngIf="isModal" class="brand-font d-flex justify-content-between align-items-center">
        Détails du Produit
        <button mat-icon-button (click)="dialogRef.close()">
            <mat-icon>close</mat-icon>
        </button>
    </h2>
    <div [ngClass]="{'row': !isModal, 'mat-dialog-content': isModal}">
        <div [ngClass]="{'col-md-6 text-center': !isModal, 'text-center mb-3': isModal}">
            <div class="product-image-container bg-light rounded shadow-sm d-flex align-items-center justify-content-center overflow-hidden"
                [style.height]="isModal ? '300px' : '500px'">
                <img [src]="product.imageUrl" [alt]="product.name" class="w-100 h-100" style="object-fit: cover;">
            </div>
        </div>
        <div [ngClass]="{'col-md-6': !isModal}">
            <nav aria-label="breadcrumb" *ngIf="!isModal">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a routerLink="/catalog">Catalogue</a></li>
                    <li class="breadcrumb-item active">{{product.name}}</li>
                </ol>
            </nav>

            <p class="text-muted text-uppercase mb-1">{{product.categoryName || 'SportStore'}}</p>
            <h1 class="display-5 fw-bold mb-3">{{product.name}}</h1>

            <div class="d-flex align-items-center gap-3 mb-4">
                <h2 class="text-primary mb-0">
                    {{ product.price | currency:'USD' }}
                </h2>
            </div>

            <p class="lead mb-4">{{ product.description || 'Produit de haute performance SportStore.' }}</p>

            <div class="d-grid gap-2">
                <button *ngIf="!isModal" mat-button routerLink="/catalog">
                    Retour au catalogue
                </button>
                <button *ngIf="isModal" mat-button (click)="dialogRef.close()">
                    Fermer
                </button>
            </div>

            <hr class="my-5">

            <div class="row text-center service-features">
                <div class="col-4">
                    <mat-icon color="primary">local_shipping</mat-icon>
                    <p class="small">Livraison rapide</p>
                </div>
                <div class="col-4">
                    <mat-icon color="primary">security</mat-icon>
                    <p class="small">Paiement sécurisé</p>
                </div>
                <div class="col-4">
                    <mat-icon color="primary">support_agent</mat-icon>
                    <p class="small">Conseils experts</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container py-5 text-center" *ngIf="!product">
    <mat-spinner class="mx-auto"></mat-spinner>
    <p class="mt-3">Chargement du produit...</p>
</div>